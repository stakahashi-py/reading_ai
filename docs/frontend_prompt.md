本アプリの画面を、以下の要件に従い修正したいと考えています。
まずは、下記の実装計画を立ててください。その際、確認が必要な内容があれば、逆質問してください。

# 全体要件
- 大きくは「検索画面」と「読書画面」の2画面構成。

# 検索画面
- ログイン後、最初に飛ばされる画面がここ。
- 画面は2カラム構成。左が「通常検索」、右が「チャット」。6:4の画面割合。
- 「通常検索」
    - 最上部に検索結果入力欄がある。
      検索要素は、「フリーキーワード」、「作者」、「時代」(大正、明治、昭和、から選択)、「ステータス」（未読、読書中、読了、から選択）
    - その下に、検索結果が並ぶ。
        - 検索結果に表示する要素は以下の通り。
            - タイトル
            - 作者
            - 時代
            - 作品概要
            - ステータス（未読 or 読書中 or 読了）
            - ステータス「読書中」の場合、進捗率 + 付近のパラグラフ1文
            - ステータス「読了」の場合、「感想表示」ボタン
              押下すると、入力した感想を表示・編集できる画面
            - 「読む」ボタン
              押下すると、当作品の「読書画面」に移行
    - 検索をしていない初期状態では、ステータス「読書中」→ステータス「読了」→ステータス「未読」作品の順に上から並ぶ。
      「読書中」「読了」は、直近読んだ作品の方が上に来るように並べ替える。（左記要件を満たすのにスキーマ変更が必要な場合は実装しなくて良い）
- 「チャット」
    - 通常のチャット画面。上にチャット履歴表示欄、下に入力欄。（履歴保持は不要）
    - 初期状態では、「おかえりなさい！今日はどんな本を読みますか？」の、アシスタントメッセージを表示
    - アシスタントのアイコンはsvg(後ほど差し替え、一旦なんらかのSVGを入れておく), ユーザーのアイコンもsvg（一番シンプルな、人の白黒アイコン）
    - 入力を受け取ったら、バックエンドからリンクありのメッセージが返される。返答までの間は、Typing Indicator（・・・の点滅）が表示される

# 読書画面
- 「読む」ボタン押下後に飛ばされる画面がここ。
- 画面は2カラム構成。左が「本文」、右が「チャット」。6:4の画面割合。
- 「本文」
    - 本文が、パラグラフごとに表示される。パラグラフ番号は表示しなくてOK。
    - パラグラフは、複数クリックできる。ホバーで色がかなり薄いグレーに、クリックすると薄いグレーになる。
    - 画面の最下部に、4+1つのボタンを常に表示する。「ハイライトする」、「ここだけ翻訳」、「挿絵を生成」、「動く挿絵を生成」(動画生成) + 「ハイライトされた行に移動」
    4つのボタンは、通常時は非アクティブとなっており、パラグラフがクリックされるとアクティブになる。
    また、4つのいずれかのボタンが押下された場合、パラグラフのクリックは解除され、再度非アクティブとなる。
    - 「ハイライト」を押下すると、ハイライトされたパラグラフの背景色が薄い黄色となる。
      ※1. 複数クリックしてハイライトした場合、複数のパラグラフが黄色になる。
      ※2. すでにハイライトされたパラグラフを指定して押下した場合、ハイライトが解除される。
      ※3. 複数クリックして、ハイライトされた行とそうでない行が含まれる場合は、全てハイライト状態にする。
    - 「ここだけ翻訳」を押下すると、指定した全パラグラフの翻訳結果を返す。
      翻訳結果は、指定したパラグラフ直下に、「翻訳結果」の文字+薄いピンク背景で表示する。
    - 「挿絵を生成」、「動く挿絵を生成」を押下すると、指定した全パラグラフの文字列を結合して、画像・動画を生成する。
      生成結果は、指定したパラグラフのうち、最も後のパラグラフの本文直後に挿入する。
      また、生成待ち時間は、生成待ちであることがわかるよう、ローディングアニメーションを動かしておく。
    - 一度画面を閉じ、再度画面を表示した場合でも、ハイライト・ここだけ翻訳の結果・挿絵・動く挿絵は、前回同様の形で表示される。
    - 「ハイライトされた行に移動」を押下すると、ポップアップが表示され、ハイライトされたパラグラフの一覧が表示される。
      クリックすると、ハイライトされたパラグラフに画面遷移する。
    - 本文の最下部に、「読了」ボタンを配置する。
      押下すると、「お疲れ様でした！感想を書いてみませんか？」のポップアップと、感想入力画面が表示される。
      入力して閉じると、DBに保存される。
- 「チャット」
    - 画面要素は、「検索画面」の「チャット」と同様。（リンクありの返答は、バックエンドから返されない。テキストのみ）
    - 入力欄の上部に、現在クリックされているパラグラフの先頭5-20文字程度(画面の広さに合わせて調整)が、カードで表示される。複数選択されている場合は、複数カード。各カード左上の「×」ボタンを押下すると、選択を解除することができる。
    - 送信ボタンを押すと、カードの文章と質問がバックエンドに送信され、質問に対する回答が返ってくる。
      送信後、パラグラフの選択が解除される。
